<!DOCTYPE HTML>
<html>
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Bank &mdash; Welcome</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Free HTML5 Website Template by freehtml5.co" />
	<meta name="keywords" content="free website templates, free html5, free template, free bootstrap, free website template, html5, css3, mobile first, responsive" />
	<meta name="author" content="freehtml5.co" />

	<link href="https://fonts.googleapis.com/css?family=Space+Mono" rel="stylesheet">
	
	<link rel="stylesheet" href="css/animate.css">
	<link rel="stylesheet" href="css/icomoon.css">
	<link rel="stylesheet" href="css/bootstrap.css">
	<link rel="stylesheet" href="css/magnific-popup.css">
	<link rel="stylesheet" href="css/flexslider.css">
	<link rel="stylesheet" href="css/style.css">
	<script src="js/modernizr-2.6.2.min.js"></script>


	</head>
	<body>
		
	<div class="fh5co-loader"></div>
	
	<div id="page">
	<nav class="fh5co-nav" role="navigation">
		<div class="top-menu">
			<div class="container-fluid">
				<div class="row">
					<div class="col-xs-2">
						<div id="fh5co-logo"><a href="index.html">Bank<span>.</span></a></div>
					</div>
				</div>
				
				
			</div>
		</div>
	</nav>
	
	<div id="fh5co-product">
		<div class="container">
			<div class="row animate-box">
				<div class="col-md-8 col-md-offset-2 text-center fh5co-heading">
					<h3>註冊<h3>
				</div>
			</div>
			<div class="row" >
				<div class="col-md-4 prod animate-box">
				</div>
				
				<div class="col-md-4 prod animate-box">
				<form id="form1" name="form1" action="">
				<p>姓名:<input type="text" name="name" id="name" required="required"></p>
				<p>帳號:<input type="text" name="username" id="username" placeholder="只能包含數字或英文" required="required"></p>
                <p id="result"><p>
                <p>密碼: <input type="password" name="password" id="password" pattern="\w{8,12}" placeholder="請輸入8~12個數字或英文" required="required" style="width:200px;"><label onclick="show_pwd1()">   <input type="checkbox">  顯示密碼</label></p>
				<p>確認密碼: <input type="password" name="chpassword" id="chpassword" pattern="\w{8,12}" placeholder="請再輸入一次密碼" required="required" style="width:170px;"><label onclick="show_pwd2()">  <input type="checkbox"> 顯示密碼</label></p>

				<p><input type="submit" name="submit" id="submit" value="註冊"></p>
				</form>
				</div>
				<div class="col-md-4 prod animate-box">
				</div>
			</div>
		</div>
	</div>
	</div>

	<div class="gototop js-top">
		<a href="#" class="js-gotop"><i class="icon-arrow-up"></i></a>
	</div>
	
	<script src="js/jquery.min.js"></script>
	<script src="js/jquery.easing.1.3.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/jquery.waypoints.min.js"></script>
	<script src="js/jquery.flexslider-min.js"></script>
	<script src="js/jquery.magnific-popup.min.js"></script>
	<script src="js/magnific-popup-options.js"></script>
    <script src="js/main.js"></script>
    

	<script type="text/javascript">
    function check(){
        var pwd1 = document.getElementById("password");
        var pwd2 = document.getElementById("chpassword");
       if(pwd1.value != pwd2.value){
            window.alert("兩次密碼並不相同！");
            document.getElementById("password").focus();
            return false;
        }
    }

	function show_pwd1(){
        var pwd = document.getElementById("password");
        //alert(pwd.value);
		if (pwd.type == "password") {
			pwd.type = "text";
		}else {
			pwd.type = "password";
		}
	}


    function show_pwd2(){
        var pwd = document.getElementById("chpassword");
        //alert(pwd.value);
		if (pwd.type == "password") {
			pwd.type = "text";
		}else {
			pwd.type = "password";
		}
	}
    
    $(document).ready(function(){
        $("#form1").submit(function(e){
            e.preventDefault();
            var chpassword=$("#chpassword").val();
            //var name=$("#name").val();
            //var username=$("#username").val();
            var password=$("#password").val();

            if(password != chpassword){
                window.alert("兩次密碼並不相同！");
                document.getElementById("password").focus();
            }
            else {
                $.ajax({
                    url:"registered.php",
                    data:
                    $("#form1").serialize(),
                    type:"POST",
                    success:function(data){
                        if(data.errorMsg){
                            $("#result").html('<font color="#ff0000">' + data.errorMsg + '</font>');
                        }
                        else if(data.name){
                            alert("註冊成功");
                            window.location.href='index.html';
                        }
                    },
                    error:function(){
                        alert("error");
                    }
                })
            }
        })
    });

</script>


	</body>
</html>

